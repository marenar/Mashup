<!-- Layout with Custom Tags -->
<aside id="sidebar">
    {{#each cats}}
    <div a='/{{this}}' class="sidebar-category">
        <div>{{ this }}</div>
    </div>
    {{/each}}
</aside>


<script>
    function upvote (e, title) { vote(e, title, 1); }
    function downvote (e, title) { vote(e, title, -1); }
    function vote (e, title, vote) {
        e.preventDefault();

        $.post('/vote', {
            title: title,
            vote: vote
        });

        countElem = $('#' + title + '-count');
        countElem.html(parseInt(countElem.html()) + inc);
    }
</script>


<div id="content">
    {{#each posts}}
    <a href={{url}} class="post">
        <div class="vert-center">
            <div class="arrows-wrapper">
                <div class="arrow-box upvote" onclick="upvote({{title}});" > &#x25B2; </div>
                <div id="{{title}}-count" class="vote-count">{{count}}</div>
                <div class="arrow-box downvote" onclick="downvote({{title}});" > &#x25BC; </div>
            </div>

            <div class="post-image"  style="background: url('{{image}}');" ></div>
            <div class="post-content">
               <h4 class="post-header">{{ title }}</h4>
               <!--<h4 class="post-header"><small>{ this.byline }</small></h4>
               <p class="post-line">{ this.content }</p>-->
            </div>
        </div>
    </a>
    {{/each}}
</div>
